# 😶‍🌫️17장 냄새와 휴리스틱

## 주석

C1: 부적절한 정보

- 주석은 메타 정보만 주석으로 넣는다.

C2: 쓸모 없는 주석

- 오래된 주석, 엉뚱한 주석, 잘못된 주석은 쓸모없다.

C3: 중복된 주석

- 코드만으로 충분한데 추가된 중복된 주석

C4: 성의 없는 주석

- 주석을 사용할 것이면 최대한 시간을 들여 멋지게 작성한다.

C5: 주석 처리된 코드

- 얼마나 오래되었는지, 지워선 안되는 중요한 코드인지 알 수 없다.
- 소스 코드 관리 시스템이 기억하기 때문에 지워도 된다.

## 환경

E1: 여러 단계로 빌드해야 한다.

- 한 명령어로 전체를 체크아웃해서 한 명령으로 빌드할 수 있어야 한다.

E2: 여러 단계로 테스트 해야 한다.

- 모든 단위 테스트는 한 명령어로 돌려야 한다.

## 함수

F1: 너무 많은 인수

- 인수 넷 이상은 최대한 피하자

F2: 출력 인수

- 출력 인수는 직관을 정면으로 위배한다.

F3: 플래그 인수

- 플래그 인수는 혼란을 줄 수 있기 때문에 가능한 피해야 한다.

F4: 죽은 함수

- 호출하지 않는 함수는 정리한다.

## 일반

G1: 한 소스 파일에 여러 언어를 사용한다.

- 소스 파일에서 언어 수와 범위를 최대한 줄여야한다.

G2: 당연한 동작을 구현하지 않는다.

- 코드가 코드 명에 해당되는 기능을 수행하지 않는다면, 읽는 사람은 코드를 신뢰할 수 없어 일일이 코드를 확인해야하는 수고로움을 겪게 된다.

G3: 경계를 올바로 처리하지 않는다.

- 가능한 모든 경계 조건을 찾아내고, 모든 경제 조건을 테스트하는 테스트 케이스를 작성하라

G4: 안전 절차 무시

- 테스트 케이스를 일단 제껴두고 나중으로 미루는 태도는 신용카드가 공짜 돈이라는 생각만큼 위험하다.

G5: 중복

- 코드에서 중복을 발견하면 추상화의 기회로 생각하자
- 여러 모듈에서 일련의 switch/case나 if/else 문으로 똑같은 조건을 거듭 확인하는 중복은 다형성 polymorphism으로 대체해야 한다.
- 중복은 중복이므로 TEMPLATE METHOD패턴이나 STRATEGY 패턴으로 중복을 제거한다.