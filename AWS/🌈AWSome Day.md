# 🌈AWSome Day

## 목차

- aws 클라우드 소개
- 컴퓨팅
- 스토리지
- 데이터베이스
- 네트워킹
- 보안

## 🐥AWS 클라우드 소개

### 클라우드란 무엇인가?

기존의 온프레미스 비지니스 시스템을 실행하기위해서는 필요한 모든 하드웨어를 구매해서 사용해야 했다. 서버, 스토리지, 데이터베이스 등등 필요한 장비를 구매 하기 때문에 초기 비용이 높고 불필요하게 많은 비용이 발생했다. 클라우드란 이러한 단점을 극복할 수 있는 방안을 제시한다. 서버, 스토리지, 데이터베이스, 에플리케이션 등 필요한 모든 서비스를 클라우드 서비스 공급자에게 빌려서 사용할 수 있다. 정리하면 클라우드란 사용자가 컴퓨터 시스템 리소스를 필요로 하면 관리할 필요 없이 바로 필요한 금액만 지불하고 사용할 수 있게 해주는 서비스이다.

클라우드 컴퓨팅을 사용하면 인프라를 하드웨어가 아닌 소프트웨어로 간주하고 사용할 수 있다. 

- 프로그래밍 가능한 리소스
- 동적 기능
- 종량 과금제

### 클라우드 컴퓨팅의 여섯 가지 이점

- 자본 비용을 가변 비용으로 대체
- 속도 및 대응력 향상
- 규모의 경제로 얻게 되는 이점
- 데이터 센터 운영 및 유지 관리에 비용 투자 불필요
- 용량 추정 불필요
- 몇 분 만에 전 세계에 배포

### 주요 서비스 분야

- 컴퓨팅
- 스토리지
- 데이터베이스
- 네트워킹
- 보안

### 작동 방식

- AWS는 네트워크로 연결된 하드웨어를 소유하고 유지 관리한다.
- 고객은 필요한 항목을 프로비저닝하고 사용한다.

### 유저가 서버를 사용할 수 있는 3가지 방법

- 온프레미스 - 자체 서버를 이용
- 하이브리드 - 자체 서버와 일부 서비스에서 aws를 활용
- 클라우드 - 클라우드 위에서 서버를 활용

### AWS 글로벌 인프라

- 가용영역(AZ)
    - 하나 이상의 데이터 센터
    - 내결함성을 갖도록 설계
    - 데이터 센터로 구성(일반적으로 수천대의 서버 수용)
- 리전
    - 각 aws 리전은 두 개 이상의 AZ로 구성
    - AWS는 전 세계에 26개 리전을 보유하고 있으며 지속적으로 성장 중에 있다.

### 리전 선택시 고려사항

- 데이터 거버넌스
    - 데이터 거버넌스는 기업에서 사용하는 데이터의 가용성, 유용성, 통합성, 보안성을 관리하기 위한 정책과 프로세스를 다루며 프라이버시, 보안성, 데이터품질, 관리규정 준수를 강조한다 from 위키 백과
- 지연
- 비용

### AWS와 상호 작용하는 3가지 방법

- AWS Management Console 사용하기 쉬운 그래픽 인터페이스
- AWS 명령줄 인터페이스(AWS CLI) 개별 명령을 사용하여 서비스에 액세스
- 소프트웨어 개발 키트(SDK) 코드에서 서비스에 액세스

## 🐠컴퓨팅

### Amazon Elastic Compute Cloud(Amazon EC2)

- 크기 조정 가능한 컴퓨팅 용량
- 컴퓨팅 리소스 완전 제어
- 새로운 서버 인스턴스 확보 및 부팅 시간 단축

### 가상 머신과 물리적 서버 비교

- Amazon EC2는 온프레미스 서버로 해결하기 어려운 몇몇 문제를 해결할 수 있다.
- EC2를 일회용 리소스라고도 하는데 이를 사용하는 경우 이점이 있다.
    - 데이터 기반 의사 결정
    - 빠른 반복
    - 자유로운 실수
    

### Amazon EC2는 종량 과금제 요금과 다양한 하드웨어 및 소프트웨어를 제공한다.

- Amazon Machine Image(AMI)사용
- 필요에 따라 인스턴스를 추가 또는 종료
- 인스턴스 일시 중지 및 다시 시작

Amazon EC2의 이점으로 탄력성, 제어, 유연성, 통합, 안전성, 보안, 저렴한 비용, 용이성이 있다.

Amazon EC2의 효율적인 인스턴스 사용과 비용 절감을 위해 올바른 유형 선택이 매우 중요하다.

### Amazon EC2 요금

- 온디맨드 인스턴스
- 예약 인스턴스
- Savings Plans
- 스팟 인스턴스
- 지원되는 인스턴스에 초당 결제 적용

### 비관리형 서비스와 관리형 서비스 비교

- 비관리형 : 사용자가 조정, 내 결함성, 가용성을 관리
- 관리형: 일반적으로 조정, 내결함성, 가용성이 서비스에 내장되어 있다.

### Amazon Elastic Container Service(Amazon ECS)

- 컨테이너의 실행을 조정한다.
- 컨테이너를 실행하는 노드 플릿을 유지 관리하고 확장한다.
- 인프라 구축의 복잡성을 제거한다.

### 서버리스 컴퓨팅이란?

서버를 관리하지 않고 애플리케이션과 서비스를 구축하고 실행하는 것이다.

- 프로비저닝하거나 관리할 서버 없음
- 사용량에 따라 조정
- 유휴 상태에 대한 지불 없음
- 가용성 및 내결함성 내장

### AWS Lambda

- 완전 관리형 컴퓨팅 서비스
- 상태 비저장 코드 실행
- 다국어 지원
- 일정에 따라 또는 이벤트(예: Amazon S3 버킷 또는 Amazon DynamoDB 테이블의 데이터 변경)에 대한 응답으로 코드 실행

## 🐙스토리지

### AWS 스토리지 옵션

- AmazonS3
    - 클라우드상의 확장 가능하고 내구성이 뛰어난 객체 스토리지
- AWS Storage Gateway
    - 온프레미스에서 거의 무제한의 클라우드 스토리지에 액세스할 수 있는 하이브리드 클라우드 스토리지 서비스
- Amazon S3 Glacier
    - 클라우드상의 저렴하고 내구성이 뛰어난 아카이브 스토리지
- Amazon EBS
    - Amazon EC2 인스턴스를 위한 내구성이 있는 블록 수준 스토리지를 제공하는 네트워크 연결 볼륨
- Amazon EFS
    - Amazon EC2 인스턴스용 확장 가능 네트워크 파일 스토리지

### Amazon S3

- 객체 수준 스토리지
- 99.999999999% 내구성을 제공하도록 설계
- 이벤트 트리거
- 사용사례
    - 콘텐츠 저장 및 배포
    - 백업 및 아카이빙
    - 빅 데이터 분석
    - 재해 복구
    - 정적 웹 사이트 호스팅
- 데이터를 저장 및 검색하도록 구축
- 속도, 내구성, 가용성이 뛰어난 객체 액세스
- 버킷에 저장할 수 있는 객체 수에 제한이 없다.
- 웹 어디서나 언제든 데이터 저장 및 검색

### Amazon S3 Clacier

- 장기 데이터 스토리지
- 아카이브 및 백업
- 비용이 매우 저렴한 스토리지
- 사용사례
    - 미디어 자산 워크플로
    - 의료 정보 아카이빙
    - 규제 및 규정 준수를 위한 아카이빙
    - 과학적 데이터 스토리지
    - 디지털 보존
    - 마그네틱 테이프 대체
    

### Amazon Elastic Block Store(Amazon EBS)

- 인스턴스용 영구 블록 스토리지
- 복제를 통해 보호
- 상이한 드라이브 유형
- 몇 분 만에 확장 또는 축소
- 프로비저닝한 만큼만 요금 지불
- 스냅샷 기능
- 암호화 사용 가능

## 🌳데이터베이스

| Relational | Amazon RDS, Aurora, Redshift |
| --- | --- |
| Key-value | Amazon DynamoDB |
| In-memory | Amazon ElastiCache, MemoryDB for Redis |
| Document | Amazon DocumentDB |
| Wide-Column | Amazon Keyspaces(for Apache Cassandra) |
| Graph | Amazon Neptune |
| Ledger | Amazon QLDB |
| Time Series | Amazon Timestream |

### DIY와 AWS 데이터베이스 서비스 비교

- Amazon EC2의 데이터베이스
    - 운영 체제 액세스
    - 특정 애플리케이션의 기능 필요
- AWS 데이터베이스 서비스
    - 손쉬운 설정, 관리, 유지
    - 즉각적인 고가용성 구현
    - 성능에 초점
    - 관리형 인프라

### Amazon RDS

클릭 몇 번으로 클라우드에서 관계형 데이터베이스를 설정, 운영, 조정

### Amazon Aurora

클라우드용으로 빌드된 MySQL 및 PostgreSQL 호환 관계형 데이터베이스

### Amazon DynamoDB

어떤 규모에서든 빠르고 유연한 NoSQL 데이터베이스 서비스

- 완전관리형
- 세분화된 엑세스 제어
- 빠르고 일관된 성능
- 유연성

## 네트워킹

### Amazon Virtual Private Cloud(Amazon VPC)

- AWS 클라우드의 프라이빗 네트워크 공간
- 워크로드의 논리적 격리 제공
- 리소스에 대한 사용자 지정 액세스 제어 및 보안 설정 허용

### 서브넷을 사용하여 VPC 분리

- 서브넷은 리소스 그룹을 격리할 수 있는 VPC IP 주소 범위의 세그먼트 또는 파티션이다.
- 서브넷은 인터넷 접근성을 정의한다.
- 프라이빗 서브넷
    - 인터넷 게이트웨이에 대한 라우팅 테이블 항목이 없다.
    - 퍼블릭 인터넷에서 직접 엑세스 불가하다.

### VPC의 계층화된 네트워크 방어

1. VPC 라우팅 테이블
2. 서브넷 ACL: 인바운드/아웃바운드
3. EC2/탄력적 네트워크 인터페이스 보안 그룹: 인바운드/아웃바운드
4. 서드 파티 호스팅 기반 보호

### 인프라 구조화

VPC에 있는 EC2에 외부에서 접근하기 위해서는 아래와 같은 과정을 일반적으로 거친다.

- 인터넷 게이트웨이 → 라우팅 테이블 → 네트워크 → 서브넷 → SG → EC2 인스턴스
- 네트워크 ACL(엑세스 제어 목록)
    - 서브넷과 주고받는 트래픽 허용/거부
    - 서브넷 수준에서 2차 방어 계층으로 보안 강화
- 보안 그룹
    - 네트워크 인터페이스(인스턴스) 수준에서 인바운드/아웃바운드 트래픽을 허용하는 데 사용
    - 일반적으로 애플리케이션 개발자가 관리

### Elastic Laod Balancig(ELB)

- 수신되는 애플리케이션 트래픽을 여러 Amazon EC2 인스턴스, 컨테이너, IP주소에 분산하는 관리형 로드 밸런싱 서비스
    - 고가용성
    - 상태 확인
    - 보안 기능

### Amazon Route 53

Route 53은 가용성과 확장성이 뛰어난 클라우드 Domain Name System(DNS) 서비스 입니다.

- DNS는 도메인 이름을 IP 주소로 변환합니다.
- 도메인 이름을 구입하여 관리하고 DNS 설정을 자동으로 구성할 수 있습니다.
- AWS에서 유연한 고성능, 고가용성 아키텍처를 위한 도구를 제공합니다.
- 멀티플 라우팅 옵션

## 🥏보안

보안에는 최우선 과제들이 존재한다.

- 보안을 고려한 설계
- 지속적 모니터링
- 고도의 자동화
- 높은 가용성
- 엄격한 인증

### 공동 책임 모델

- 고객 책임
    - 고객 데이터
    - 플랫폼, 애플리케이션, 자격 증명 및 엑세스 관리
    - 운영 체제, 네트워크, 방화벽 구성
    - 클라이언트 측 데이터 암호화 및 데이터 무결성 인증
    - 서버측 암호화 (파일 시스템 및 / 또는 데이터)
    - 네트워크 트래픽 보호(암호화, 무결성, 자격 증명)
- AWS의 책임
    - AWS 기초 서비스
        - 컴퓨팅, 스토리지, 데이터베이스, 네트워킹
    - AWS 글로벌 인프라
        - 리전, 가용 영역, 엣지 로케이션
        

### AWS Identity and Access Management(IAM)

AWS 리소스에 대한 액세스를 안전하게 제어

- 사용자, 그룹 또는 역할에 세분화된 권한 할당
- AWS 계정에 대한 임시 액세스 공유
- 회사 네트워크의 사용자 연동 또는 인터넷 자격 증명 공급자와 연동

### IAM 구성 요소

- 사용자
    - AWS와 상호 작용하는 사람 또는 애플리케이션
- 그룹
    - 동일한 권한을 가진 사용자 모음
- 역할
    - 엔터티가 맡을 수 있는 임시 권한
- 사용자가 액세스할 수 있는 AWS 리소스 정의
- 자격 증명 및 액세스 제어 표준을 충족하는 데 도움
    - 인증
    - 권한 부여

### IAM 사용자

- IAM 사용자는 별도의 AWS 계정이 아닌 계정 내 사용자
- 각 사용자는 자체 자격 증명 보유
- IAM 사용자는 자체 권한을 기준으로 특정 AWS 작업을 수행할 권한 보유

### AWS CloudTrail

AWS 계정의 사용자 활동 및 API 사용 추적

- 지속적으로 사용자 활동을 모니터링하고 API 호출을 기록
- 규정 준수 감사, 보안 분석, 문제 해결에 유용
- 로그 파일은 Amazon S3 버킷으로 전송됨

### AWS Trusted Advisor란?

비용 절감, 성능 개선, 보안 강화에 도움이 되는 지침을 제공하는 서비스